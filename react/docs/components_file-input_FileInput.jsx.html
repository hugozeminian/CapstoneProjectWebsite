<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>components/file-input/FileInput.jsx - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#AdminLogin">AdminLogin</a></li><li><a href="global.html#AvatarContainer">AvatarContainer</a></li><li><a href="global.html#Baptism">Baptism</a></li><li><a href="global.html#BoxCustom">BoxCustom</a></li><li><a href="global.html#ButtonAdminLogin">ButtonAdminLogin</a></li><li><a href="global.html#ButtonCustom">ButtonCustom</a></li><li><a href="global.html#ButtonCustomAdmin">ButtonCustomAdmin</a></li><li><a href="global.html#CalcDifViewHeigh">CalcDifViewHeigh</a></li><li><a href="global.html#CardContainerList">CardContainerList</a></li><li><a href="global.html#CardEticket">CardEticket</a></li><li><a href="global.html#CardService">CardService</a></li><li><a href="global.html#CarouselImages">CarouselImages</a></li><li><a href="global.html#CarouselTestimonials">CarouselTestimonials</a></li><li><a href="global.html#ContentContainer">ContentContainer</a></li><li><a href="global.html#CustomNotification">CustomNotification</a></li><li><a href="global.html#DateContainer">DateContainer</a></li><li><a href="global.html#DescriptionContainer">DescriptionContainer</a></li><li><a href="global.html#DeveloperLink">DeveloperLink</a></li><li><a href="global.html#FileInput">FileInput</a></li><li><a href="global.html#Footer">Footer</a></li><li><a href="global.html#FooterDevelopers">FooterDevelopers</a></li><li><a href="global.html#FooterHeightContext">FooterHeightContext</a></li><li><a href="global.html#FooterHeightProvider">FooterHeightProvider</a></li><li><a href="global.html#FooterReachOut">FooterReachOut</a></li><li><a href="global.html#Form">Form</a></li><li><a href="global.html#FormInput">FormInput</a></li><li><a href="global.html#FormSelector">FormSelector</a></li><li><a href="global.html#ImageText">ImageText</a></li><li><a href="global.html#IsMobile">IsMobile</a></li><li><a href="global.html#Item">Item</a></li><li><a href="global.html#LocalDataRepositoryOnlyContext">LocalDataRepositoryOnlyContext</a></li><li><a href="global.html#LocalDataRepositoryOnlyProvider">LocalDataRepositoryOnlyProvider</a></li><li><a href="global.html#Logo">Logo</a></li><li><a href="global.html#MobileAvatarContainer">MobileAvatarContainer</a></li><li><a href="global.html#MobileContentContainer">MobileContentContainer</a></li><li><a href="global.html#MobileDescriptionContainer">MobileDescriptionContainer</a></li><li><a href="global.html#MobileStyledAvatar">MobileStyledAvatar</a></li><li><a href="global.html#ModalServices">ModalServices</a></li><li><a href="global.html#ModalServicesHook">ModalServicesHook</a></li><li><a href="global.html#NavbarHeightContext">NavbarHeightContext</a></li><li><a href="global.html#NavbarHeightProvider">NavbarHeightProvider</a></li><li><a href="global.html#Navigation">Navigation</a></li><li><a href="global.html#PageTitle">PageTitle</a></li><li><a href="global.html#RoutesApp">RoutesApp</a></li><li><a href="global.html#SocialIcon">SocialIcon</a></li><li><a href="global.html#StateContext">StateContext</a></li><li><a href="global.html#StyledAvatar">StyledAvatar</a></li><li><a href="global.html#StyledImage">StyledImage</a></li><li><a href="global.html#StyledMobilePaper">StyledMobilePaper</a></li><li><a href="global.html#StyledPaper">StyledPaper</a></li><li><a href="global.html#TitleContainer">TitleContainer</a></li><li><a href="global.html#TokenContext">TokenContext</a></li><li><a href="global.html#UseFetchDataHook">UseFetchDataHook</a></li><li><a href="global.html#Wedding">Wedding</a></li><li><a href="global.html#YouTubeVideo">YouTubeVideo</a></li><li><a href="global.html#capitalizeFirstLetter">capitalizeFirstLetter</a></li><li><a href="global.html#decryptUserId">decryptUserId</a></li><li><a href="global.html#deepCopy">deepCopy</a></li><li><a href="global.html#encryptUserId">encryptUserId</a></li><li><a href="global.html#ensureArray">ensureArray</a></li><li><a href="global.html#extractVideoKey">extractVideoKey</a></li><li><a href="global.html#formatDate">formatDate</a></li><li><a href="global.html#formatTime">formatTime</a></li><li><a href="global.html#formattedDateToAPI">formattedDateToAPI</a></li><li><a href="global.html#formattedTimeToAPI">formattedTimeToAPI</a></li><li><a href="global.html#generateRandomChars">generateRandomChars</a></li><li><a href="global.html#getCurrentDateTime">getCurrentDateTime</a></li><li><a href="global.html#getIconByName">getIconByName</a></li><li><a href="global.html#getLabelOrNameOfObjItem">getLabelOrNameOfObjItem</a></li><li><a href="global.html#getLastReference">getLastReference</a></li><li><a href="global.html#isDateGreaterThanOrEqualToToday">isDateGreaterThanOrEqualToToday</a></li><li><a href="global.html#useFooterHeight">useFooterHeight</a></li><li><a href="global.html#useLocalDataRepositoryOnly">useLocalDataRepositoryOnly</a></li><li><a href="global.html#useNavbarHeight">useNavbarHeight</a></li><li><a href="global.html#usePageData">usePageData</a></li><li><a href="global.html#useStateContext">useStateContext</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">components/file-input/FileInput.jsx</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useRef, useState } from "react";
import DeleteOutlineIcon from "@mui/icons-material/DeleteOutline";
import CloudUploadIcon from "@mui/icons-material/CloudUpload";
import theme from "../../theme/Theme";
import { Box, Button, Typography } from "@mui/material";
import { styled } from "@mui/system";
import ButtonCustomAdmin from "../button-custom-admin/ButtonCustomAdmin";
import { IsMobile } from "../../util/generalFunctions";

/**
 * Component for selecting and displaying files.
 * @param {Object} props - Props for the FileInput component.
 * @param {Function} props.onFileChange - Callback function triggered when a file is selected.
 * @param {number} props.index - Index of the file input component.
 * @param {boolean} [props.regularButtonShape=false] - Flag indicating whether to use regular button shape.
 * @param {string} [props.width='160px'] - Width of the file input component.
 * @param {string} [props.labelButton='replace'] - Label for the button.
 * @returns {JSX.Element} - Returns the FileInput component.
 */
const FileInput = ({
  onFileChange,
  index,
  regularButtonShape = false,
  width = "160px",
  labelButton = "replace",
}) => {
  const isMobile = IsMobile();
  const inputRef = useRef();
  const [selectedFile, setSelectedFile] = useState(null);

  /**
   * Handles the file change event.
   * @param {Object} event - The file change event.
   */
  const handleOnChange = (event) => {
    const file = event.target.files[0];

    if (file) {
      setSelectedFile(file);
      const imageUrl = URL.createObjectURL(file);

      if (onFileChange &amp;&amp; typeof onFileChange === "function") {
        onFileChange(file, index, imageUrl);
      }

      event.target.value = null;
    }
  };

  /**
   * Opens file chooser dialog.
   */
  const onChooseFile = () => {
    inputRef.current.click();
  };

  /**
   * Removes the selected file.
   */
  const removeFile = () => {
    setSelectedFile(null);
    if (onFileChange &amp;&amp; typeof onFileChange === "function") {
      onFileChange(null, index, null);
    }
  };

  return (
    &lt;>
      {!regularButtonShape ? (
        &lt;FileInputContainer>
          &lt;input
            type="file"
            ref={inputRef}
            onChange={handleOnChange}
            style={{ display: "none" }}
            accept="image/*"
          />
          &lt;FileBtn onClick={onChooseFile}>
            &lt;MaterialSymbolsRounded>
              &lt;CloudUploadIcon />
            &lt;/MaterialSymbolsRounded>
          &lt;/FileBtn>
          {selectedFile &amp;&amp; (
            &lt;SelectedFile>
              &lt;SelectedFileText>{selectedFile.name}&lt;/SelectedFileText>
              &lt;DeleteButton onClick={removeFile}>
                &lt;MaterialSymbolsRounded>
                  &lt;DeleteOutlineIcon />
                &lt;/MaterialSymbolsRounded>
              &lt;/DeleteButton>
            &lt;/SelectedFile>
          )}
        &lt;/FileInputContainer>
      ) : (
        &lt;Box sx={{ marginRight: "10px" }}>
          &lt;input
            type="file"
            ref={inputRef}
            onChange={handleOnChange}
            style={{ display: "none" }}
            accept="image/*"
          />
          &lt;ButtonCustomAdmin
            width={isMobile ? "100%" : width}
            label={labelButton}
            onClick={onChooseFile}
            style={{ marginRight: "10px" }}
          />
        &lt;/Box>
      )}
    &lt;/>
  );
};

// Styled components

const FileInputContainer = styled("div")({
  display: "flex",
  flexDirection: "column",
  alignItems: "center",
});

const FileBtn = styled(Button)(({ theme }) => ({
  width: "70px",
  height: "70px",
  fontSize: "18px",
  fontWeight: 500,
  display: "flex",
  alignItems: "center",
  justifyContent: "center",
  backgroundColor: theme.palette.primary.accent,
  border: `1.5px dashed ${theme.palette.primary.main}`,
  borderRadius: "20px",
  cursor: "pointer",
  marginBottom: "20px",
  "&amp;:hover": {
    color: theme.palette.secondary.accent,
    backgroundColor: theme.palette.primary.main_transparent,
  },
}));

const MaterialSymbolsRounded = styled(Typography)({
  width: "50px",
  height: "50px",
  color: theme.palette.primary.main,
  display: "flex",
  alignItems: "center",
  justifyContent: "center",
  borderRadius: "50%",
});

const SelectedFile = styled(Box)({
  display: "flex",
  alignItems: "center",
  backgroundColor: theme.palette.secondary.highlight,
  borderRadius: "20px",
  padding: "10px",
});

const SelectedFileText = styled(Typography)({
  fontSize: "13px",
  fontWeight: 500,
  marginLeft: "15px",
  maxWidth: "200px",
  whiteSpace: "nowrap",
  overflow: "hidden",
  textOverflow: "ellipsis",
});

const DeleteButton = styled(Button)(({ theme }) => ({
  width: "40px",
  height: "40px",
  display: "flex",
  alignItems: "center",
  justifyContent: "center",
  backgroundColor: "transparent",
  borderRadius: "20%",
  border: `1.5px dashed ${theme.palette.primary.main}`,
  cursor: "pointer",
  marginLeft: "10px",
  transition: "all 0.3s ease",
  "&amp;:hover": {
    color: theme.palette.secondary.accent,
    backgroundColor: theme.palette.primary.main_transparent,
  },
}));

const AvatarContainer = styled("div")({
  width: "33.3%",
  display: "flex",
  alignItems: "center",
  justifyContent: "center",
});

export default FileInput;
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.2</a> on Mon Apr 22 2024 03:28:34 GMT-0600 (Mountain Daylight Saving Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



</body>
</html>
